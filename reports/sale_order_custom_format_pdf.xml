<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <data>
        <template id="sale_order_custom_report_pdf">
            <t t-call="web.html_container">
                <t t-foreach="docs" t-as="o">
                    <t t-call="web.basic_layout">
                        <t t-set="o" t-value="o.with_context(lang=lang)"/>
                        <style>
                            
                        </style>
                        <!-- Encabezado -->
                        <div class="header">
                            <table style="width:100%; border:1px solid Transparent">
                                <tr rowspan="3">
                                    <td style="width:70%; padding-top:20px">
                                        <img t-if="o.company_id.logo" class="o_company_logo_big" t-att-src="image_data_uri(o.company_id.logo)" alt="Logo"/>
                                    </td>
                                    <td style="color:#FFFFFF">.</td>
                                </tr>
                                <tr>
                                    <td></td>
                                    <td style="background:#F1F5F9; color:#000000; text-align:center">
                                        Cotización #<span t-esc="o.name if o.name else 'PEDIDO DE VENTA'"/>
                                    </td>
                                </tr>
                            </table>
                            <br/>
                            <div style="width:100%; border: 2px solid Black"/>
                            <br/>
                        </div>
                        <div class="body">
                            <table style="width:100%; border:1px solid Transparent; font-size:11px">
                                <tr style="padding-bottom:15px; padding-top:15px">
                                    <td>
                                        <strong>
                                            CLIENTE
                                        </strong>
                                    </td>
                                    <td>
                                        <strong>
                                            TELEFONO
                                        </strong>
                                    </td>
                                    <td>
                                        <strong>
                                            FECHA DE ENTREGA
                                        </strong>                                        
                                    </td>
                                </tr>
                                <tr style="padding-bottom:15px; padding-top:15px">
                                    <td style="padding-bottom:15px">
                                        <t t-esc="o.partner_id.name"/>
                                    </td>
                                    <td>
                                        <t t-esc="o.partner_id.mobile if o.partner_id.mobile else o.partner_id.phone"/>
                                    </td>
                                    <td>
                                        <t t-esc="o.commitment_date.strftime('%d/%m/%Y') if o.commitment_date else o.commitment_date"/>
                                    </td>
                                </tr>
                                <tr style="padding-bottom:15px; padding-top:15px">
                                    <td>
                                        <strong>
                                            FECHA
                                        </strong>
                                    </td>
                                    <td>
                                        <strong>
                                            DIRECCIÓN DE ENTREGA
                                        </strong>                                        
                                    </td>
                                    <td>
                                        <strong>
                                            ASESOR
                                        </strong>
                                    </td>
                                </tr>
                                <tr style="padding-bottom:15px; padding-top:15px">
                                    <td style="padding-bottom:15px">
                                        <t t-esc="o.date_order.strftime('%d/%m/%Y') if o.date_order else ''"/>
                                    </td>
                                    <td>
                                        <div t-field="o.partner_shipping_id" t-options="{'widget': 'contact', 'fields': ['address'], 'no_marker': True, 'phone_icons': True}"/>    
                                    </td>
                                    <td>
                                        <t t-esc="o.user_id.name if o.user_id else ''"/>
                                    </td>
                                </tr>
                            </table>

                            <br/>

                            <table class="o_has_total_table table o_main_table table-borderless" style="font-size:11px">
                                <thead style="display: table-row-group">
                                    <tr style="border-bottom: 2px solid #000000">
                                        <th name="th_description" class="text-start">
                                            <strong>DESCRIPCIÓN</strong>
                                        </th>
                                        <th name="th_description" class="text-start">
                                            <strong>REFERENCIA</strong>
                                        </th>
                                        <th name="th_quantity" class="text-end text-nowrap">
                                            <strong>
                                                CANTIDAD
                                            </strong>
                                        </th>
                                        <th name="th_priceunit" class="text-end text-nowrap">
                                            <strong>
                                                PRECIO
                                            </strong>
                                        </th>
                                        <th name="th_discount" class="text-end">
                                            <strong>
                                                <span>DESCUENTO</span>
                                            </strong>                                            
                                        </th>
                                        <td>
                                            <strong>
                                                TOTAL
                                            </strong>
                                        </td>
                                    </tr>
                                </thead>
                                <tbody class="sale_tbody">
                                    <t t-foreach="o.order_line" t-as="line">
                                        <tr t-att-class="'fw-bold o_line_section' if (line.display_type == 'line_section' or line.product_type == 'combo') else 'fst-italic o_line_note' if line.display_type == 'line_note' else ''" style="background:#FAFAFA; border-bottom:2px solid #FFFFFF">
                                            <td>
                                                <t t-esc="line.product_id.name if line.product_id else ''"/>
                                            </td>
                                            
                                            <td>
                                                <img class="img-fluid" t-if="line.product_id.image_1920" t-att-src="image_data_uri(line.product_id.image_1920)" alt="Product img" style="max-width: 140px; max-height: 140px;"/>
                                            </td>
                                            <td name="td_quantity" class="o_td_quantity text-end">
                                                <span t-field="line.product_uom_qty" class="text-nowrap">3</span>
                                            </td>
                                            <td name="td_priceunit" class="text-end text-nowrap">
                                                <t t-esc="o.currency_id.symbol"/> <span t-field="line.price_unit"/>
                                            </td>
                                            <td class="text-end">
                                                <t t-esc="o.currency_id.symbol"/> <span t-field="line.discount">-</span>
                                            </td>
                                            <td t-if="not line.is_downpayment" name="td_subtotal" class="text-end o_price_total">
                                                <span t-field="line.price_subtotal">27.00</span>
                                            </td>
                                        </tr>
                                    </t>
                                </tbody>
                                
                            </table>
                            <br/>
                            
                            <div class="clearfix" name="so_total_summary">
                                <div style="width:100%; padding:5px">
                                    <t t-if="o.get_discount()[0] == True">
                                        <table style="width:40%; border:1px solid Transparent; float:right; font-size:11px">
                                            <thead>
                                                <tr style="border-bottom:1px solid #000000; border-top:1px solid #000000">
                                                    <th style="padding:8px">
                                                        <strong>SUB TOTAL</strong>
                                                    </th>
                                                    <th></th>
                                                    <th class="text-end o_price_total">
                                                        <t t-esc="o.currency_id.symbol"/> <t t-esc="o.get_discount()[1]"/>
                                                    </th>
                                                </tr>
                                                <tr style="border-bottom:1px solid #000000">
                                                    <th style="padding:8px">
                                                        <strong>DESCUENTO</strong>
                                                    </th>
                                                    <th>
                                                        <t t-esc="o.get_discount()[2]"/>%
                                                    </th>
                                                    <th class="text-end o_price_total">
                                                        <span t-field="o.amount_untaxed"/>
                                                    </th>
                                                </tr>
                                                <tr style="background:#000000; color:#FFFFFF">
                                                    <th style="padding:8px">
                                                        <strong>TOTAL</strong>
                                                    </th>
                                                    <th></th>
                                                    <th class="text-end o_price_total">
                                                        <span t-field="o.amount_total"/>
                                                    </th>
                                                </tr>
                                            </thead>
                                        </table>
                                    </t>
                                    <t t-if="o.get_discount()[0] == False">
                                        <table style="width:40%; border:1px solid Transparent; float:right; font-size:11px">
                                            <thead>
                                                <tr style="border-bottom:1px solid #000000; border-top:1px solid #000000">
                                                    <th style="padding:8px">
                                                        <strong>SUB TOTAL</strong>
                                                    </th>
                                                    <th></th>
                                                    <th class="text-end o_price_total">
                                                        <span t-field="o.amount_untaxed"/>
                                                    </th>
                                                </tr>
                                                <tr style="border-bottom:1px solid #000000">
                                                    <th style="padding:8px">
                                                        <strong>DESCUENTO</strong>
                                                    </th>
                                                    <th>
                                                        
                                                    </th>
                                                    <th class="text-end o_price_total">
                                                        
                                                    </th>
                                                </tr>
                                                <tr style="background:#000000; color:#FFFFFF">
                                                    <th style="padding:8px">
                                                        <strong>TOTAL</strong>
                                                    </th>
                                                    <th></th>
                                                    <th class="text-end o_price_total">
                                                        <span t-field="o.amount_total"/>
                                                    </th>
                                                </tr>
                                            </thead>
                                        </table>
                                    </t>
                                </div>
                            </div>
                            
                                    
                            <br/>
                            <div style="width:100%; text-align:center; padding:5px; font-size:11px">
                                <p>
                                    OBSERVACIONES: DESCUENTO APLICA UNICAMENTE EN PAGO CON TRANSFERENCIA. 
                                    <br/><br/>
                                </p>
                            </div>

                            <p style="page-break-before: always"/>
                            <div style="width:100%; text-align:center; font-size:11px"><strong> CLAÚSULAS DE ENTREGA DE MUEBLES – BAZZAR FABRICS </strong></div><br/>
                            <div style="width:100%; text-align:center; font-size:11px"> Al aprobar este contrato, el cliente acepta las especificaciones detalladas.<br/>
                            No se aceptan devoluciones de muebles fabricados. Tampoco se aceptan devoluciones de telas cortadas.<br/>
                            Estas pueden encoger hasta un 5% según su composición.<br/>
                            Por favor, revise cuidadosamente cada artículo antes de confirmar. </div><br/><br/>

                            <div style="width:100%; font-size:11px">
                                <p>
                                    <strong>CONDICIONES DE ENTREGA </strong><br/><br/>
                                    <strong>A)</strong> El cliente (o su decorador / arquitecto) es reponsable de verificar que las medidas del mueble permitan su ingreso al inmueble <br/><br/>
                                    <strong>B)</strong> También debe confirmar que los accesos (puertas, pasillos, elevadores) sean adecuados para el ingreso sin dañar los muebles.<br/><br/>
                                    <strong>C)</strong> Las entregas se realizaran en el <strong>lobby</strong> o primer nivel si no hay elevador de carga habilitado. <br/><br/>
                    
                                    <strong>D)</strong> Si la entrega es en apartamento, asegurese de que el mueble quepa en el elevador.<strong> No esta permitido subir muebles por gradas, ventanas o sobre el elevador </strong>. Si no es posible ingresarlo, se dejara en el lobby.<br/><br/>

                                    <strong>E)</strong> Nuestro personal <strong>no manipulará muebles que no sean de Bazzar, por seguridad.</strong><br/><br/>
                                    <strong>F)</strong> El área de entrega debe estar libre y accesible. El equipo tiene un tiempo estimado de 30-40 minutos por entrega.<br/><br/>
                                </p>
                                </div>
                                
                                <div style="width:100%;text-align:center; font-size:11px">Agradecemos su preferencia y le pedimos tomar en cuenta estas condiciones para asegurar una entrega exitosa.<br/><br/><br/><br/><br/><br/><br/><br/>
                                
                                <div style="width: 100%; text-align: center;">
                                    <hr style="color: gray; width: 50%; margin: auto;"/>
                                    Firma del cliente
                                </div>

                            </div>
                        </div>

                        <div class="footer">
                            <div style="width:100%; border:2px solid #000000"/>
                            <p style="font-size:13px; text-align:center">
                                <strong>Metodos de pago BI Q | </strong> GRUPO DIRECTO 092-000883-6, <strong>BAC Q | </strong> GRUPO DIRECTO 902156785, <strong>BI $ 
                                    <br/></strong> ZIMATEX S.A 004-004937-9, <strong>✔</strong> VISALINK
                            </p>
                            <table style="width:100%; border:1px solid Transparent">
                                <tr style="text-align:center">
                                    <td>
                                        <t t-esc="o.company_id.website"/>
                                    </td>
                                    <td>
                                        <t t-esc="o.company_id.email"/>
                                    </td>
                                </tr>
                            </table>
                        </div>
                    </t>
                </t>
            </t>
        </template>
    </data>
</odoo>